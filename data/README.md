# Files
* `scfg_generator.py`: Generates a [parallel corpus](#parallel-corpus) based on the words defined in the script. Each line of the output contains a sentence in the source language and its translation in the target language, separated by a single tab.
* `build_dataset.py`: Takes the [parallel corpus](#parallel-corpus) generated by `scfg_generator.py`, randomizes the order of the sentences and splits them into a [training (80%)](#training-set), [validation (10%)](#validation-set) and [test set (10%)](#test-set).

# Directories
The three directories (`mix`, `vso` and `vos`) contain the files generated by `scfg_generator.py` and `build_dataset.py`.

## Parallel corpus
* `par_corp.txt`: all sentences in the source and target language

## Training set
* `src_train.txt`: sentences of the training set in the source language
* `tgt_train.txt`: sentences of the training set in the target language

## Validation set
* `src_val.txt`: sentences of the validation set in the source language
* `tgt_val.txt`: sentences of the validation set in the target language

## Test set
* `src_test.txt`: sentences of the test set in the source language
* `tgt_test.txt`: sentences of the test set in the target language

# Generated files
Files that are generated while pre-processing the data, training the model or translating data are added to `/data/$USER/cm-vs-wo/data` instead.

## Files generated after pre-processing data
* `ppd.vocab.pt`: serialized PyTorch file containing training data
* `ppd.valid.0.pt`: serialized PyTorch file containing validation data
* `ppd.train.0.pt`: serialized PyTorch file containing vocabulary data

## Files generated after training a model
* `trained_model_[vso|vos|mix]_[rnn|transformer]_[adam|sgd]_[large|small|onesize]_step_N.pt`: the trained model, where
  * [vso|vos|mix] is the word order
  * [rnn|transformer] is the model used
  * [adam|sgd] is the optimization method
  * [large|small|onesize] is the size of the model, this is large or small fo Transformer and onesize for RNN
  * N is the number of steps (a checkpoint is saved after every 50 steps)

## Files generated after translating data
* `out_test_[vso|vos|mix]_[rnn|transformer]_[adam|sgd]_[large|small|onesize]_step_N.txt`: sentences as translated by the model, where
  * [vso|vos|mix] is the word order
  * [rnn|transformer] is the model used
  * [adam|sgd] is the optimization method
  * [large|small|onesize] is the size of the model, this is large or small fo Transformer and onesize for RNN
  * N is the number of steps the model has been trained
Accuracy scores are printed to the slurm log file in `/home/$USER/cm-vs-wo/slurm/translate-job-ID.log`, where ID is the job ID.
